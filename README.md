# Лабораторная работа №6 — Рефакторинг и code smells

## Описание проекта
В этом репозитории проведен рефакторинг модуля обработки заказов. Исходный код содержал ряд проблем ("запахов"), которые были устранены с сохранением функциональности.

## Найденные проблемы (Code Smells)
1. **Long Method (Длинный метод)** — функция `process_checkout` была слишком большой и делала всё сразу (валидация, логика, расчеты).
2. **Magic Numbers (Магические числа)** — в коде были разбросаны числа `0.21`, `200`, `0.10` без объяснения, что это за значения.
3. **Repeated Code (Дублирование)** — несколько раз запускались циклы по списку товаров.
4. **Poor Readability** — сложная вложенность `if/else` при расчете скидок.

## Что было сделано
1. **Extract Method**: Логика разбита на маленькие функции:
   - `validate_request` / `validate_items`
   - `calculate_subtotal` / `calculate_discount` / `calculate_tax`
2. **Extract Constant**: Все числа вынесены в константы (`TAX_RATE`, `COUPON_VIP_DISCOUNT`).
3. **Simplify Conditional**: Упрощена логика проверок купонов.
4. **F-strings**: Генерация ID переписана на f-строки.

## Результат
Код стал чище, тесты проходят успешно.
